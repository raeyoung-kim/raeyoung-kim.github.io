<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="React 이미지 슬라이드(infinite loop) 구현" /><meta name="author" content="kim rae young" /><meta property="og:locale" content="ko" /><meta name="description" content="To do" /><meta property="og:description" content="To do" /><link rel="canonical" href="https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/" /><meta property="og:url" content="https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/" /><meta property="og:site_name" content="개발 노트" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-14T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="React 이미지 슬라이드(infinite loop) 구현" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"kim rae young"},"dateModified":"2022-06-30T21:26:40+09:00","datePublished":"2022-03-14T00:00:00+09:00","description":"To do","headline":"React 이미지 슬라이드(infinite loop) 구현","mainEntityOfPage":{"@type":"WebPage","@id":"https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/"},"url":"https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/"}</script><title>React 이미지 슬라이드(infinite loop) 구현 | 개발 노트</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="개발 노트"><meta name="application-name" content="개발 노트"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/avatar.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">개발 노트</a></div><div class="site-subtitle font-italic">동물을 좋아하고, 성장하는 것에 관심이 많습니다.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/raeyoung-kim" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['760kry','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>React 이미지 슬라이드(infinite loop) 구현</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>React 이미지 슬라이드(infinite loop) 구현</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/raeyoung-kim">kim rae young</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1647183600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-14 </em> </span> <span> Updated <em class="timeago" data-ts="1656592000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-30 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2084 words"> <em>11 min</em> read</span></div></div></div><div class="post-content"><h2 id="to-do">To do <a href="#to-do" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>라이브러리 없이 아래 나열된 기능을 기준으로 이미지 슬라이드 구현을 해보았다.</p><ul><li><code class="language-plaintext highlighter-rouge">&lt;</code> (이전), <code class="language-plaintext highlighter-rouge">&gt;</code>(다음) 버튼 클릭으로 슬라이드 이미지 전환<li>모바일에서 터치로 슬라이드 이미지 전환<li><code class="language-plaintext highlighter-rouge">무한 루프</code>로 마지막 이미지에서 다음 이미지로 터치 또는 클릭 시 자연스럽게 첫 번째 이미지로 이미지 전환, 첫 번째 이미지에서 이전 이미지로 터치 또는 클릭 시 마지막 이미지로 자연스럽게 이미지 전환</ul><h2 id="완성된-화면">완성된 화면 <a href="#완성된-화면" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="https://images.velog.io/images/760kry/post/82e31df2-60c2-47ef-b888-495db3e16def/ezgif.com-gif-maker.gif" alt="" data-proofer-ignore></p><h2 id="버튼-클릭-시-이미지-슬라이드-전환-기능">버튼 클릭 시 이미지 슬라이드 전환 기능 <a href="#버튼-클릭-시-이미지-슬라이드-전환-기능" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><blockquote><p>아래와 같이 이미지 링크(string)를 배열로 받을 수 있는 컴포넌트로 구현하였다.</p></blockquote><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">SwiperImage</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">components</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Sample</span><span class="p">:</span> <span class="nx">FC</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="cm">/* ... 생략 ...*/</span>
  <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span><span class="dl">'</span><span class="s1">이미지 url 링크 1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">이미지 url 링크 2</span><span class="dl">'</span><span class="p">];</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">SwiperImage</span> <span class="na">data</span><span class="p">=</span><span class="si">{</span><span class="nx">data</span><span class="si">}</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Sample</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="슬라이드-기능">슬라이드 기능 <a href="#슬라이드-기능" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="https://images.velog.io/images/760kry/post/103381d4-b0b9-4cf8-accc-261d85ec147e/Screen%20Shot%202022-03-13%20at%208.58.37%20PM.png" alt="" data-proofer-ignore></p><ul><li>위와 같이 보일 주황색 네모칸처럼 화면 크기를 정해둔 뒤 <code class="language-plaintext highlighter-rouge">overflow: hidden</code> 속성으로 주황색 네모칸을 벗어나는 이미지들은 숨김 처리한다.<li>이미지를 감싸고 있는 div에 <code class="language-plaintext highlighter-rouge">display: flex</code> 속성으로 가로로 이미지를 나열한다.<li>슬라이드 기능이 오른쪽으로 넘어가야 되기 때문에 x축이 마이너스 방향으로 이동되기 때문에 <code class="language-plaintext highlighter-rouge">transform: translateX(-${보일 이미지 인덱스}00%)</code>로 이동된다.<li><code class="language-plaintext highlighter-rouge">transition: all 0.4s ease-in-out</code> 속성과 주어 자연스러운 모션을 준다.</ul><blockquote><p>아래는 위의 설명을 구현한 소스이다.</p></blockquote><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">classNames</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">classnames</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">IoIosArrowBack</span><span class="p">,</span> <span class="nx">IoIosArrowForward</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-icons/io</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">SwiperImage</span><span class="p">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">imageList</span><span class="p">,</span> <span class="nx">setImageList</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([</span>
    <span class="nx">data</span><span class="p">[</span><span class="nx">data</span><span class="p">?.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">...</span><span class="nx">data</span><span class="p">,</span>
    <span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
  <span class="p">]);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">currentImgIndex</span><span class="p">,</span> <span class="nx">setCurrentImgIndex</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">style</span><span class="p">,</span> <span class="nx">setStyle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
    <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">nextSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">prevSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"relative"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"overflow-hidden max-w-[480px] min-w-[280px] w-full bg-black"</span>
      <span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">ref</span><span class="p">=</span><span class="si">{</span><span class="nx">ref</span><span class="si">}</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="nx">style</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="s2">`flex`</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">imageList</span><span class="p">?.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span>
              <span class="p">&lt;</span><span class="nt">img</span>
                <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="si">}</span>
                <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="dl">'</span><span class="s1">w-auto h-auto object-contain</span><span class="dl">'</span><span class="si">}</span>
              <span class="p">/&gt;</span>
            <span class="p">);</span>
          <span class="p">})</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"absolute w-full flex justify-between top-[50%]"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">prevSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowBack</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">nextSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowForward</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="cm">/* ... 생략 ... */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">SwiperImage</span><span class="p">;</span>

</pre></table></code></div></div><h2 id="여기서-문제점">여기서 문제점! <a href="#여기서-문제점" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>여기서 첫 번째 이미지에서 사용자가 이전 버튼을 또 클릭하게 되면 마지막 이미지로 전환되지만 자연스럽지 못하게 휘리릭 마지막으로 넘어간다.</p><h2 id="자연럽게-무한-루프-기능-추가하기">자연럽게 무한 루프 기능 추가하기 <a href="#자연럽게-무한-루프-기능-추가하기" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p><img data-src="https://images.velog.io/images/760kry/post/e947b316-da92-4140-851a-f7b88c458cb1/Screen%20Shot%202022-03-13%20at%209.42.50%20PM.png" alt="" data-proofer-ignore></p><ul><li>위 화면과 같이 첫 번째 이미지(<code class="language-plaintext highlighter-rouge">이미지 1</code>) 왼쪽에 트릭을 주기 위한 가짜 마지막 이미지(<code class="language-plaintext highlighter-rouge">이미지 4</code>)를 두고 마지막 이미지(<code class="language-plaintext highlighter-rouge">이미지 4</code>) 오른쪽에도 트릭을 주기 위한 가짜 첫 번째 이미지(<code class="language-plaintext highlighter-rouge">이미지 1</code>)를 둔다.<li><code class="language-plaintext highlighter-rouge">이미지 4</code>에서 다음 버튼을 클릭할 경우 오른쪽에 있는 <code class="language-plaintext highlighter-rouge">trick 이미지 1</code>으로 넘어가는데, 여기서 <code class="language-plaintext highlighter-rouge">settimeout</code>으로 빠르게 <code class="language-plaintext highlighter-rouge">transition: 0ms</code>으로 효과 없이 사용자가 눈치채지 못하도록 진짜 <code class="language-plaintext highlighter-rouge">이미지 1</code>으로 이동한다.<li><code class="language-plaintext highlighter-rouge">이미지 1</code>에서 다음 버튼을 클릭할 경우 오른쪽에 있는 <code class="language-plaintext highlighter-rouge">trick 이미지 4</code>으로 넘어가는데, 여기서 <code class="language-plaintext highlighter-rouge">settimeout</code>으로 빠르게 <code class="language-plaintext highlighter-rouge">transition: 0ms</code>으로 효과 없이 사용자가 눈치채지 못하도록 진짜 <code class="language-plaintext highlighter-rouge">이미지 4</code>으로 이동한다.</ul><p><img data-src="https://images.velog.io/images/760kry/post/fbf29475-10f0-4500-bb62-6120bf9320b7/Screen%20Shot%202022-03-13%20at%209.56.31%20PM.png" alt="" data-proofer-ignore></p><ul><li>인덱스 <code class="language-plaintext highlighter-rouge">0</code>과 인덱스 <code class="language-plaintext highlighter-rouge">imageList[imageList.length - 1]</code>는 trick 이미지이기 때문에 가장 첫 번째 인덱스와 마지막 인덱스를 제외한 이미지들을 보여준다.</ul><blockquote><p>아래는 위 내용을 구현한 소스이다.</p></blockquote><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">classNames</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">classnames</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">IoIosArrowBack</span><span class="p">,</span> <span class="nx">IoIosArrowForward</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-icons/io</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">SwiperImage</span><span class="p">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">imageList</span><span class="p">,</span> <span class="nx">setImageList</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([</span>
    <span class="nx">data</span><span class="p">[</span><span class="nx">data</span><span class="p">?.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">...</span><span class="nx">data</span><span class="p">,</span>
    <span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
  <span class="p">]);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">currentImgIndex</span><span class="p">,</span> <span class="nx">setCurrentImgIndex</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">touch</span><span class="p">,</span> <span class="nx">setTouch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="na">start</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">end</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">style</span><span class="p">,</span> <span class="nx">setStyle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
    <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">nextSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">prevSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">);</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">setStyle</span><span class="p">({</span>
          <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
          <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">&gt;=</span> <span class="nx">imageList</span><span class="p">?.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setStyle</span><span class="p">({</span>
          <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
          <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">currentImgIndex</span><span class="p">,</span> <span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span><span class="p">]);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">imageList</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"relative"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"overflow-hidden max-w-[480px] min-w-[280px] w-full bg-black"</span>
   
      <span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">ref</span><span class="p">=</span><span class="si">{</span><span class="nx">ref</span><span class="si">}</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="nx">style</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="s2">`flex`</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">imageList</span><span class="p">?.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span>
              <span class="p">&lt;</span><span class="nt">img</span>
                <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="si">}</span>
                <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="dl">'</span><span class="s1">w-auto h-auto object-contain</span><span class="dl">'</span><span class="si">}</span>
              <span class="p">/&gt;</span>
            <span class="p">);</span>
          <span class="p">})</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"absolute w-full flex justify-between top-[50%]"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">prevSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowBack</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">nextSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowForward</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="si">{</span><span class="cm">/* ... 생략 ... */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">SwiperImage</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="모바일-터치-슬라이드-기능-구현">모바일 터치 슬라이드 기능 구현 <a href="#모바일-터치-슬라이드-기능-구현" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><code class="language-plaintext highlighter-rouge">onTouchStart</code><ul><li><code class="language-plaintext highlighter-rouge">e.touches[0].pageX</code> 처음 터치한 위치를 기억해 둔다.</ul><li><code class="language-plaintext highlighter-rouge">onTouchMove</code><ul><li>터치하면서 넘길 때 해당 위치까지 끌려오기 위해 <code class="language-plaintext highlighter-rouge">transition: 0ms</code>으로 이동할 위치로 이동한다</ul><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>  <span class="kd">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">currentImgIndex</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="o">-</span><span class="nx">current</span> <span class="o">+</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span> <span class="o">-</span> <span class="nx">touch</span><span class="p">.</span><span class="nx">start</span><span class="p">);</span>
  <span class="c1">// 터치이동 시 이동되는 위치</span>

  <span class="nx">setStyle</span><span class="p">({</span>
    <span class="na">transform</span><span class="p">:</span> <span class="s2">`translate3d(</span><span class="p">${</span><span class="nx">result</span><span class="p">}</span><span class="s2">px, 0px, 0px)`</span><span class="p">,</span>
    <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">});</span>
</pre></table></code></div></div><li><code class="language-plaintext highlighter-rouge">onTouchEnd</code><ul><li>처음 터치했을 때 위치보다 마지막 이동된 위치가 더 작을 경우 이전 슬라이드로, 반대인 경우 다음 슬라이드로 이동한다.</ul><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>  <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">changedTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">touch</span><span class="p">.</span><span class="nx">start</span> <span class="o">&gt;</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">nextSlide</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">prevSlide</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="nx">setTouch</span><span class="p">({</span>
    <span class="p">...</span><span class="nx">touch</span><span class="p">,</span>
    <span class="nx">end</span><span class="p">,</span>
  <span class="p">});</span>
</pre></table></code></div></div></ul><h3 id="완성된-구현-소스">완성된 구현 소스 <a href="#완성된-구현-소스" class="anchor"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-tsx highlighter-rouge"><div class="code-header"> <span data-label-text="Tsx"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">classNames</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">classnames</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">FC</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">IoIosArrowBack</span><span class="p">,</span> <span class="nx">IoIosArrowForward</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-icons/io</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span><span class="p">[];</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">SwiperImage</span><span class="p">:</span> <span class="nx">FC</span><span class="o">&lt;</span><span class="nx">Props</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">data</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLDivElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">imageList</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([</span><span class="nx">data</span><span class="p">[</span><span class="nx">data</span><span class="p">?.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span> <span class="p">...</span><span class="nx">data</span><span class="p">,</span> <span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]]);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">currentImgIndex</span><span class="p">,</span> <span class="nx">setCurrentImgIndex</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">touch</span><span class="p">,</span> <span class="nx">setTouch</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="na">start</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">end</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="p">[</span><span class="nx">style</span><span class="p">,</span> <span class="nx">setStyle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
    <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">nextSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">+</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">prevSlide</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">setStyle</span><span class="p">({</span>
      <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">currentImgIndex</span> <span class="o">-</span> <span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
      <span class="na">transition</span><span class="p">:</span> <span class="s2">`all 0.4s ease-in-out`</span><span class="p">,</span>
    <span class="p">});</span>
  <span class="p">};</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">);</span>
      <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">setStyle</span><span class="p">({</span>
          <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
          <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">currentImgIndex</span> <span class="o">&gt;=</span> <span class="nx">imageList</span><span class="p">?.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setCurrentImgIndex</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">setStyle</span><span class="p">({</span>
          <span class="na">transform</span><span class="p">:</span> <span class="s2">`translateX(-</span><span class="p">${</span><span class="mi">1</span><span class="p">}</span><span class="s2">00%)`</span><span class="p">,</span>
          <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">});</span>
      <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">currentImgIndex</span><span class="p">,</span> <span class="nx">imageList</span><span class="p">.</span><span class="nx">length</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"relative"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span>
        <span class="na">className</span><span class="p">=</span><span class="s">"overflow-hidden max-w-[480px] min-w-[280px] w-full bg-black"</span>
        <span class="na">onTouchStart</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">setTouch</span><span class="p">({</span>
            <span class="p">...</span><span class="nx">touch</span><span class="p">,</span>
            <span class="na">start</span><span class="p">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">,</span>
          <span class="p">});</span>
        <span class="p">}</span><span class="si">}</span>
        <span class="na">onTouchMove</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">ref</span><span class="p">?.</span><span class="nx">current</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">clientWidth</span> <span class="o">*</span> <span class="nx">currentImgIndex</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="o">-</span><span class="nx">current</span> <span class="o">+</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">targetTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span> <span class="o">-</span> <span class="nx">touch</span><span class="p">.</span><span class="nx">start</span><span class="p">);</span>
            <span class="nx">setStyle</span><span class="p">({</span>
              <span class="na">transform</span><span class="p">:</span> <span class="s2">`translate3d(</span><span class="p">${</span><span class="nx">result</span><span class="p">}</span><span class="s2">px, 0px, 0px)`</span><span class="p">,</span>
              <span class="na">transition</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0ms</span><span class="dl">'</span><span class="p">,</span>
            <span class="p">});</span>
          <span class="p">}</span>
        <span class="p">}</span><span class="si">}</span>
        <span class="na">onTouchEnd</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">end</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">changedTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">pageX</span><span class="p">;</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">touch</span><span class="p">.</span><span class="nx">start</span> <span class="o">&gt;</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">nextSlide</span><span class="p">();</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">prevSlide</span><span class="p">();</span>
          <span class="p">}</span>
          <span class="nx">setTouch</span><span class="p">({</span>
            <span class="p">...</span><span class="nx">touch</span><span class="p">,</span>
            <span class="nx">end</span><span class="p">,</span>
          <span class="p">});</span>
        <span class="p">}</span><span class="si">}</span>
      <span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">ref</span><span class="p">=</span><span class="si">{</span><span class="nx">ref</span><span class="si">}</span> <span class="na">style</span><span class="p">=</span><span class="si">{</span><span class="nx">style</span><span class="si">}</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="s2">`flex`</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="si">{</span><span class="nx">imageList</span><span class="p">?.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span>
              <span class="p">&lt;</span><span class="nt">img</span>
                <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
                <span class="na">src</span><span class="p">=</span><span class="si">{</span><span class="nx">el</span><span class="si">}</span>
                <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="dl">'</span><span class="s1">w-auto h-auto object-contain</span><span class="dl">'</span><span class="si">}</span>
              <span class="p">/&gt;</span>
            <span class="p">);</span>
          <span class="p">})</span><span class="si">}</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"absolute w-full flex justify-between top-[50%]"</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">prevSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowBack</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-white text-xl"</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">nextSlide</span><span class="si">}</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nc">IoIosArrowForward</span> <span class="p">/&gt;</span>
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"text-gray-500 mt-4 text-center flex justify-center"</span><span class="p">&gt;</span>
        <span class="si">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">el</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">(</span>
            <span class="p">&lt;</span><span class="nt">div</span>
              <span class="na">key</span><span class="p">=</span><span class="si">{</span><span class="nx">i</span><span class="si">}</span>
              <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">classNames</span><span class="p">(</span>
                <span class="dl">'</span><span class="s1">bg-gray-200 h-[6px] w-[6px] mr-1 rounded</span><span class="dl">'</span><span class="p">,</span>
                <span class="p">{</span>
                  <span class="dl">'</span><span class="s1">bg-rose-200</span><span class="dl">'</span><span class="p">:</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">===</span> <span class="nx">currentImgIndex</span><span class="p">,</span>
                <span class="p">}</span>
              <span class="p">)</span><span class="si">}</span>
            <span class="p">/&gt;</span>
          <span class="p">);</span>
        <span class="p">})</span><span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">SwiperImage</span><span class="p">;</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/frontend/'>Frontend</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/react-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C-%EA%B5%AC%ED%98%84/" class="post-tag no-text-decoration" >react 이미지 슬라이드 구현</a> <a href="/tags/image-slider-%EA%B5%AC%ED%98%84/" class="post-tag no-text-decoration" >Image Slider 구현</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=React 이미지 슬라이드(infinite loop) 구현 - 개발 노트&amp;url=https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=React 이미지 슬라이드(infinite loop) 구현 - 개발 노트&amp;u=https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://raeyoung-kim.github.io/posts/React-Slider-Image-%EA%B5%AC%ED%98%84/&amp;text=React 이미지 슬라이드(infinite loop) 구현 - 개발 노트" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/DOM/">Document Object Model</a><li><a href="/posts/CSS-layout/">CSS layout</a><li><a href="/posts/Linked-List/">Linked List / javascript 구현</a><li><a href="/posts/Tree-vs-BinarySearchTree/">Tree vs Binary Search Tree / javascript 구현</a><li><a href="/posts/hash-table/">hash table / javascript 구현</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/oop/">OOP</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/reduxjs-toolkit/">@reduxjs/toolkit</a> <a class="post-tag" href="/tags/arrow-function/">Arrow Function</a> <a class="post-tag" href="/tags/async-await/">async await</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/aws-elastic-beanstalk/">AWS Elastic Beanstalk</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CRA-%EC%9B%B9%ED%8C%A9-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/"><div class="card-body"> <em class="timeago small" data-ts="1663599600" > 2022-09-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CRA(React Create App) 웹팩 설정하기</h3><div class="text-muted small"><p> CRA(Create React App)는 프로젝트 초기 세팅 및 복잡한 과정을 해결해줍니다. 예를 들어, 아래와 같은 명령어로 타입스크립트 환경의 리액트 프로젝트를 만들 수 있습니다. 1 yarn create react-app my-app --template typescript 이렇게 프로젝트를 만들게 되면 바벨이나 웹팩 같은 종속된 라이브러리...</p></div></div></a></div><div class="card"> <a href="/posts/DOM/"><div class="card-body"> <em class="timeago small" data-ts="1573484400" > 2019-11-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Document Object Model</h3><div class="text-muted small"><p> DOM(Document Object Model) HTML 은 구성을 짜는 설계도 같은 역할을 하고, CSS 로 디자인을 했다면, DOM을 이용해서 화면을 만들어 준다. document html 문서의 구조와 관계를 객체로 표현한 모델. html 문서도 javascript 객체도 부모와 자식이 있는 트리구조 이다. document라는 전역 변수...</p></div></div></a></div><div class="card"> <a href="/posts/React-Query/"><div class="card-body"> <em class="timeago small" data-ts="1665414000" > 2022-10-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React Query</h3><div class="text-muted small"><p> React-Query란? React 애플리케이션에서 데이터를 가져오기 위한 라이브러리입니다. 데이터 Fetching, 캐싱, 동기화, 서버 쪽 데이터 업데이트 비동기 과정에서 데이터를 관리하기 편하게 할 수 있습니다. 사용하는 이유 아래와 같이 React는 데이터를 가져올 때 useEffect를 사용하고 useState를 사용하여 상태를 유지합...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%EC%BB%A4%EB%B0%8B-%ED%95%A9%EC%B9%98%EA%B8%B0/" class="btn btn-outline-primary" prompt="Older"><p>Git 커밋 합치기</p></a> <a href="/posts/React-Portal-%EB%AA%A8%EB%8B%AC-%EA%B5%AC%ED%98%84/" class="btn btn-outline-primary" prompt="Newer"><p>React Portal을 이용해 모달 구현</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/raeyoung-kim">김래영</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/data-structure/">data structure</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/oop/">OOP</a> <a class="post-tag" href="/tags/promise/">Promise</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/reduxjs-toolkit/">@reduxjs/toolkit</a> <a class="post-tag" href="/tags/arrow-function/">Arrow Function</a> <a class="post-tag" href="/tags/async-await/">async await</a> <a class="post-tag" href="/tags/asynchronous/">asynchronous</a> <a class="post-tag" href="/tags/aws-elastic-beanstalk/">AWS Elastic Beanstalk</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
